import base64, json

def decode_user_scores(encoded_str):
    try:
        decoded = json.loads(base64.b64decode(encoded_str).decode("utf-8"))
        return decoded
    except Exception as e:
        print("⚠️ Decode failed:", e)
        return None

# Example usage:
# Copy-paste one `user_scores_json` value from Airtable into encoded_str
encoded_str = "eyJjdXN0b21lcl9zZXJ2aWNlX3NhbGVzIjogOCwgIm1hcmtldGluZyI6IDYsICJwZXJzb25hbF9jb25uZWN0aW9ucyI6IDIsICJwcm9mZXNzaW9uYWxfbmV0d29yayI6IDIsICJwcm94aW1pdHlfdG9fY3VzdG9tZXJzIjogOCwgImFlc3RoZXRpY19leHBlcmllbnRpYWxfYXBwZWFsIjogOSwgImN1c3RvbWVyLWZyaWVuZGx5X2FtZW5pdGllcyI6IDgsICJyZWd1bGF0b3J5X2ZyZWVkb20iOiA5LCAicHJvZHVjdF9kaXZlcnNpdHkiOiAxMCwgImhpZ2hfdm9sdW1lX3Byb2R1Y3Rpb24iOiA2LCAib3BlcmF0aW9uYWxfaW5mcmFzdHJ1Y3R1cmUiOiA4LCAicHJvZHVjdF9wcmVkaWN0YWJpbGl0eSI6IDcsICJzY2hlZHVsZV9mbGV4aWJpbGl0eSI6IDEwLCAiZmluYW5jaWFsX3Jlc291cmNlcyI6IDYsICJmbG9yYWxfZGVzaWduIjogOSwgImNvbG9yX2NvbXByZWhlbnNpb25fYWNjdXJhY3kiOiA5LCAic29jaWFsX3BlcnNvbmFsaXR5IjogMywgInN0cmVzc19yaXNrX3RvbGVyYW5jZSI6IDMsICJ0aW1lX21hbmFnZW1lbnRfb3JnYW5pemF0aW9uIjogN30="
print(decode_user_scores(encoded_str))

# Try with another record to compare:
encoded_str2 = "eyJjdXN0b21lcl9zZXJ2aWNlX3NhbGVzIjogOCwgIm1hcmtldGluZyI6IDgsICJwZXJzb25hbF9jb25uZWN0aW9ucyI6IDUsICJwcm9mZXNzaW9uYWxfbmV0d29yayI6IDUsICJwcm94aW1pdHlfdG9fY3VzdG9tZXJzIjogOCwgImFlc3RoZXRpY19leHBlcmllbnRpYWxfYXBwZWFsIjogMCwgImN1c3RvbWVyLWZyaWVuZGx5X2FtZW5pdGllcyI6IDAsICJyZWd1bGF0b3J5X2ZyZWVkb20iOiA2LCAicHJvZHVjdF9kaXZlcnNpdHkiOiAxMCwgImhpZ2hfdm9sdW1lX3Byb2R1Y3Rpb24iOiA1LCAib3BlcmF0aW9uYWxfaW5mcmFzdHJ1Y3R1cmUiOiA5LCAicHJvZHVjdF9wcmVkaWN0YWJpbGl0eSI6IDEwLCAic2NoZWR1bGVfZmxleGliaWxpdHkiOiAxMCwgImZpbmFuY2lhbF9yZXNvdXJjZXMiOiA4LCAiZmxvcmFsX2Rlc2lnbiI6IDEwLCAiY29sb3JfY29tcHJlaGVuc2lvbl9hY2N1cmFjeSI6IDEwLCAic29jaWFsX3BlcnNvbmFsaXR5IjogNiwgInN0cmVzc19yaXNrX3RvbGVyYW5jZSI6IDEwLCAidGltZV9tYW5hZ2VtZW50X29yZ2FuaXphdGlvbiI6IDl9"
print(decode_user_scores(encoded_str2))
